{
  "_args": [
    [
      {
        "raw": "react-native-background-task",
        "scope": null,
        "escapedName": "react-native-background-task",
        "name": "react-native-background-task",
        "rawSpec": "",
        "spec": "latest",
        "type": "tag"
      },
      "/Users/inovasisolusi/Documents/StefanusAdhie/react-native-chat"
    ]
  ],
  "_from": "react-native-background-task@latest",
  "_id": "react-native-background-task@0.2.1",
  "_inCache": true,
  "_location": "/react-native-background-task",
  "_nodeVersion": "8.2.1",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/react-native-background-task-0.2.1.tgz_1502362471485_0.95684838690795"
  },
  "_npmUser": {
    "name": "jamesisaac",
    "email": "james.isaac@gmail.com"
  },
  "_npmVersion": "5.3.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "react-native-background-task",
    "scope": null,
    "escapedName": "react-native-background-task",
    "name": "react-native-background-task",
    "rawSpec": "",
    "spec": "latest",
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/react-native-background-task/-/react-native-background-task-0.2.1.tgz",
  "_shasum": "9d110ed14b245e0d8b9ec8114ce24b33ddda65de",
  "_shrinkwrap": null,
  "_spec": "react-native-background-task",
  "_where": "/Users/inovasisolusi/Documents/StefanusAdhie/react-native-chat",
  "author": {
    "name": "James Isaac",
    "email": "james.isaac@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/jamesisaac/react-native-background-task/issues"
  },
  "dependencies": {},
  "description": "Periodic background tasks for React Native apps, cross-platform (iOS and Android), which run even when the app is closed.",
  "devDependencies": {
    "flow-bin": "^0.50.0",
    "prettier": "^1.5.3"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-t5NvHWiqdIRf+KRUbeYH0QYSF3TTTe67g9TuOy/KbfU0KWqK1igLbQB/vw1o8nXZrWWIzSl9mSTG+2V/57TRzw==",
    "shasum": "9d110ed14b245e0d8b9ec8114ce24b33ddda65de",
    "tarball": "https://registry.npmjs.org/react-native-background-task/-/react-native-background-task-0.2.1.tgz"
  },
  "gitHead": "085227ecd0f4ff7c561db5f29779747fbcdb9033",
  "homepage": "https://github.com/jamesisaac/react-native-background-task#readme",
  "keywords": [
    "react-native",
    "background-jobs",
    "fetch",
    "android",
    "ios",
    "offline",
    "sync"
  ],
  "license": "MIT",
  "main": "js/index",
  "maintainers": [
    {
      "name": "jamesisaac",
      "email": "james.isaac@gmail.com"
    }
  ],
  "name": "react-native-background-task",
  "optionalDependencies": {},
  "peerDependencies": {
    "react-native": ">=0.36.0",
    "react-native-background-fetch": "2.0.x"
  },
  "readme": "# react-native-background-task\n\n[![npm version](https://img.shields.io/npm/v/react-native-background-task.svg)](https://www.npmjs.com/package/react-native-background-task)\n[![license](https://img.shields.io/github/license/jamesisaac/react-native-background-task.svg)](https://opensource.org/licenses/MIT)\n[![npm downloads](https://img.shields.io/npm/dm/react-native-background-task.svg)](https://www.npmjs.com/package/react-native-background-task)\n\nPeriodic background tasks for React Native apps, cross-platform (iOS and\nAndroid), which run even when the app is closed.\n\nThis library allows the scheduling of a single periodic task, which executes\nwhen the app is in the background or closed, no more frequently than every 15\nminutes.  Network, AsyncStorage etc can be used (anything except UI), so\nperfect for things like a background data sync for offline support.\n\nBehind the scenes, this library takes a different approach with each platform:\n\n- **Android**: A native implementation, which provides scheduling on top of\n  RN's built-in [Headless JS](https://facebook.github.io/react-native/docs/headless-js-android.html)\n  (Android only).\n  - Min API level: 16 (Android 4.1).\n- **iOS**: A proxy around [react-native-background-fetch](https://github.com/transistorsoft/react-native-background-fetch),\n  which uses the iOS-specific `Background Fetch` technique.\n\nTo achieve a unified API, this library exposes the lowest common denominator\n(e.g. only support for a single task, even though Android can support multiple).\n\nFor more per-platform flexibility, there are other platform-specific libraries\nwith more granular customisation.\n\n## Installation\n\n```bash\n$ npm install react-native-background-task --save\n```\n  \n### Android\n\n1. The linking of the library can be done automatically by running:\n\n  ```bash\n  $ react-native link react-native-background-task\n  ```\n\n2. One manual step is still needed - in your project file\n  `android/app/src/main/java/myapp/MainApplication.java`, add the following to\n  the end of the `onCreate()` method:\n  \n  ```java\n  BackgroundTaskPackage.useContext(this);\n  ```\n\n### iOS\n\nFor iOS support, this library relies on version 2.0.x of\n[react-native-background-fetch](https://github.com/transistorsoft/react-native-background-fetch)\nwhich can be installed as follows:\n\n```bash\n$ npm install react-native-background-fetch@2.0.x --save\n$ react-native link react-native-background-fetch\n```\n  \nThis library will behave correctly on iOS as long as `react-native-background-fetch`\nis installed alongside it, and has been linked with your project.\n\n## API\n\n### `define(task)`\n\nDefine the JS code that this module should be executing.\n\n- Should be called at the top level of your JS, **not** inside a component.\n  This is because in headless mode no components are mounted, but the code\n  still needs to be accessible.\n- Will overwrite any previously defined task.\n\nParameters:\n\n- **`task`**: **required** `() => void` - Function to be executed in the background\n\n### `schedule(options)`\n\nSpecify the scheduling options for the task, and register it with the\nplatform's scheduler.\n\n- Should be called from inside a component (e.g. your App's\n  `componentDidMount`).  This is to avoid double-scheduling when the task\n  launches in headless mode.\n- Will `console.warn` if the device is task was unable to be scheduled.\n\nParameters:\n\n- **`options?`**: `Object` - Any configuration you want to be set with\n  the task.  Note that most of these will only work on one platform.\n  \n  - **`period?`**: `number` - (Android only) Desired number of seconds between each\n    execution of the task.  Even on Android, the OS will only take this as a\n    recommendation, and will enforce a minimum of 15 minutes (similar to iOS).\n    Default is 900 (15 minutes)\n  - **`timeout?`**: `number` - (Android only) Number of seconds the task will have\n    to execute.  iOS has a hardcoded limit of 30 seconds.  Default 30 seconds.\n\n### `finish()`\n\n**Must be called at the end of your task** to indicate to the OS that it's\nfinished.  (Only required on iOS, no-op on Android).\n\n### `cancel()`\n\nCancels any currently scheduled task.\n\n### `statusAsync()`\n\nQuery the status of background tasks within this app.  Returns a Promise with\nan object of the following shape:\n\n- **`available`**: `boolean` - Whether background tasks are available to the app.\n  On Android this will always be true, but on iOS background tasks could be\n  blocked (see [UIBackgroundRefreshStatus](https://developer.apple.com/documentation/uikit/uibackgroundrefreshstatus)).\n- **`unavailableReason?`**: `string` - If unavailable, gives the reason:\n    - **`BackgroundTask.UNAVAILABLE_DENIED`**: - The user explicitly disabled\n      background behavior for this app or for the whole system.\n    - **`BackgroundTask.UNAVAILABLE_RESTRICTED`**: - Background updates\n      unavailable and can't be enabled by the user (e.g. parental controls).\n\n## Limitations\n\n- Tasks cannot be scheduled any more frequently than every 15 minutes.\n- The exact timings of task execution are unpredictable, as both Anrdoid and\n  iOS use black-box algorithms, which depend on factors like device sleep\n  state.  This library should only be used for tasks that are an incremental \n  feature, and can have inexact timing, such as the periodic background syncing\n  of data.  You should be prepared for the case that background task doesn't\n  fires at all.\n  \nAndroid:\n\n- Tasks will not run while the app is in the foreground, and scheduling can be\n  made even more imprecise when the app goes in/out of the foreground (as tasks\n  are rescheduled as soon as the app goes into the background).\n  \niOS:\n\n- iOS Background Fetch will not continue to run after a user manually closes\n  the app.  (The app being closed by the OS to free up memory etc. should be\n  fine).\n- Background tasks will not be scheduled in the simulator.  You'll need to\n  either test it on a real device, or use the\n  [Simulate Background Fetch](https://developer.apple.com/library/content/documentation/IDEs/Conceptual/iOS_Simulator_Guide/TestingontheiOSSimulator/TestingontheiOSSimulator.html#//apple_ref/doc/uid/TP40012848-CH4-SW5)\n  feature of Xcode.\n- The user can disable Background App Refresh for your app from their Settings\n  (use `statusAsync()` to check for this).\n\n\n## Debugging\n\n### Android\n\n```bash\n$ adb logcat *:S ReactNative:V ReactNativeJS:V BackgroundTask:V\n```\n\nKeep in mind that after the app leaves the foreground, you'll have to wait at least 50% of the desired period (so, default is 7m30s) before the task executes.\n\n## Examples\n\n### Simple\n\n```js\nimport React from 'react'\nimport { Text } from 'react-native'\nimport BackgroundTask from 'react-native-background-task'\n\nBackgroundTask.define(() => {\n  console.log('Hello from a background task')\n  BackgroundTask.finish()\n})\n\nclass MyApp extends React.Component {\n  componentDidMount() {\n    BackgroundTask.schedule()\n  }\n  \n  render() {\n    return <Text>Hello world</Text>\n  }\n}\n```\n\n### Fetch / store data\n\n```js\nimport React from 'react'\nimport { Alert, AsyncStorage, Button } from 'react-native'\nimport BackgroundTask from 'react-native-background-task'\n\nBackgroundTask.define(async () => {\n  // Fetch some data over the network which we want the user to have an up-to-\n  // date copy of, even if they have no network when using the app\n  const response = await fetch('http://feeds.bbci.co.uk/news/rss.xml')\n  const text = await response.text()\n  \n  // Data persisted to AsyncStorage can later be accessed by the foreground app\n  await AsyncStorage.setItem('@MyApp:key', text)\n  \n  // Remember to call finish()\n  BackgroundTask.finish()\n})\n\nclass MyApp extends React.Component {\n  componentDidMount() {\n    BackgroundTask.schedule({\n      period: 1800, // Aim to run every 30 mins - more conservative on battery\n    })\n    \n    // Optional: Check if the device is blocking background tasks or not\n    this.checkStatus()\n  }\n  \n  async checkStatus() {\n    const status = await BackgroundTask.statusAsync()\n    \n    if (status.available) {\n      // Everything's fine\n      return\n    }\n    \n    const reason = status.unavailableReason\n    if (reason === BackgroundTask.UNAVAILABLE_DENIED) {\n      Alert.alert('Denied', 'Please enable background \"Background App Refresh\" for this app')\n    } else if (reason === BackgroundTask.UNAVAILABLE_RESTRICTED) {\n      Alert.alert('Restricted', 'Background tasks are restricted on your device')\n    }\n  }\n  \n  render() {\n    return (\n      <View>\n        <Button\n          title=\"Read results from AsyncStorage\"\n          onPress={async () => {\n            const result = await AsyncStorage.getItem('@MyApp:key')\n            console.log(result) \n          }}\n        />\n      </View>\n    )\n  }\n}\n```",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/jamesisaac/react-native-background-task.git"
  },
  "scripts": {
    "flow": "flow || exit 0",
    "prettier": "prettier --no-semi --single-quote --trailing-comma es5 --write \"js/**/*.js\""
  },
  "version": "0.2.1"
}
